(this["webpackJsonpweather-forecast-app"]=this["webpackJsonpweather-forecast-app"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(16),i=a.n(c),s=(a(75),a(31)),o=a(51),l=a(21),u=a(52),p=a(53),h=a(13),m=a(62),d=a(137),g=a(127),f=a(128),E=a(101),D=n.a.memo((function(e){return n.a.createElement(d.a,{className:"card-comp",onClick:function(){e.onSelect(e.cardData)}},n.a.createElement(g.a,null,n.a.createElement(f.a,null,n.a.createElement(E.a,{className:"card-name",gutterBottom:!0},"Temp:"),n.a.createElement(E.a,{className:"card-value",gutterBottom:!0},"celsius"===e.temperatureType?e.cardData.tempC:e.cardData.tempF),n.a.createElement(E.a,{className:"card-name",gutterBottom:!0},"Date:"),n.a.createElement(E.a,{className:"card-value",gutterBottom:!0},e.cardData.displayDate),n.a.createElement(E.a,{className:"card-name",gutterBottom:!0},"Humidity:"),n.a.createElement(E.a,{className:"card-value",gutterBottom:!0},e.cardData.humidity),n.a.createElement(E.a,{className:"card-name",gutterBottom:!0},"Weather:"),n.a.createElement(E.a,{gutterBottom:!0,className:"content-ellipsis card-value"},e.cardData.weather))))})),w=a(54),v=function(e){return n.a.createElement(w.a,{height:"240px",chartType:"Bar",loader:n.a.createElement("div",{className:"chart-loader"},"Loading Chart ..."),data:"celsius"===e.temperatureType?e.chartData.chartDataC:e.chartData.chartDataF,options:{legend:{position:"none"}},rootProps:{"data-testid":"2"}})},y=a(129),b=function(){return n.a.createElement("div",{className:"loader-content center-content"},n.a.createElement("div",{className:"loader-text"},"Loading ..."),n.a.createElement(y.a,null))},C=a(130),T=a(56),A=a(134),O=a(136),P=a(131),k=a(135),x=a(132),j=a(57),_=a.n(j),N=a(58),I=a.n(N),F=function(e){return e.error&&console.error(e.error),n.a.createElement("div",{className:"center-content notify-content"},n.a.createElement("h1",{className:e.classVal},e.message))},S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).temperatureChange=a.temperatureChange.bind(Object(h.a)(a)),a.backwardClick=a.backwardClick.bind(Object(h.a)(a)),a.forwardClick=a.forwardClick.bind(Object(h.a)(a)),a.setBarChart=a.setBarChart.bind(Object(h.a)(a)),a.materialClasses=Object(T.a)((function(e){return{root:{flexGrow:1}}})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getWeatherData()}},{key:"componentDidUpdate",value:function(){this.props.weatherData.length>0&&!this.props.loading&&0===this.props.curPageData.length&&this.props.getPageData(0)}},{key:"forwardClick",value:function(){this.props.getPageData(this.props.curPageIndex+1)}},{key:"backwardClick",value:function(){this.props.getPageData(this.props.curPageIndex-1)}},{key:"setBarChart",value:function(e){this.props.getActiveChartData(e)}},{key:"temperatureChange",value:function(e){this.props.getCurTempType(e.target.value)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"weather-view-container"},this.props.curPageData.length>0?n.a.createElement("div",{className:"weather-view"},n.a.createElement("div",{className:this.materialClasses.root},n.a.createElement(C.a,{container:!0},n.a.createElement(C.a,{className:"temp-type-container",item:!0,xs:12},n.a.createElement(k.a,{component:"fieldset"},n.a.createElement(O.a,{className:"temp-radio-group","aria-label":"Select Temperature Type",name:"temperature-type",value:this.props.temperatureType,onChange:this.temperatureChange,row:!0},n.a.createElement(P.a,{value:"celsius",control:n.a.createElement(A.a,{color:"primary"}),label:"Celsius",labelPlacement:"end",className:"celsius"}),n.a.createElement(P.a,{value:"fahrenheit",control:n.a.createElement(A.a,{color:"primary"}),label:"Fahrenheit",labelPlacement:"end",className:"fahrenheit"})))),n.a.createElement(C.a,{className:"arrow-container left",item:!0,xs:6},this.props.curPageIndex>0?n.a.createElement(x.a,{color:"primary","aria-label":"Left Arrow",onClick:this.backwardClick},n.a.createElement(_.a,{fontSize:"large"})):null),n.a.createElement(C.a,{className:"arrow-container right",item:!0,xs:6},this.props.curPageIndex*this.props.pageSize+this.props.pageSize<this.props.weatherData.length?n.a.createElement(x.a,{color:"primary","aria-label":"Right Arrow",onClick:this.forwardClick},n.a.createElement(I.a,{fontSize:"large"})):null),this.props.curPageData.map((function(t,a){return n.a.createElement(C.a,{className:Object.keys(e.props.activeChartData).length>0&&t.date===e.props.activeChartData.date?"card-active grid-card":"grid-card",key:a,item:!0,xs:4},n.a.createElement(D,{cardData:t,onSelect:e.setBarChart,temperatureType:e.props.temperatureType}))})),n.a.createElement(C.a,{className:"bar-chart-container",item:!0,xs:12},Object.keys(this.props.activeChartData).length>0?n.a.createElement(v,{chartData:this.props.activeChartData,temperatureType:this.props.temperatureType}):n.a.createElement("div",{className:"bar-chart-notify"},"Please select a card to show temperature fragments in a Bar Chart."))))):this.props.hasError?n.a.createElement(F,{classVal:"alert-red",error:this.props.error,message:"Something went wrong. Sorry, we can't show weather information at this time."}):this.props.loading||0!==this.props.weatherData.length?n.a.createElement(b,null):n.a.createElement(F,{message:"No weather forecasts avaialble."}))}}]),t}(r.Component),B={getPageData:function(e){return function(e){return{type:"GET_PAGE_DATA",pageIndex:e}}(e)},getActiveChartData:function(e){return function(e){return{type:"GET_ACTIVE_CHART_DATA",chartData:e}}(e)},getCurTempType:function(e){return function(e){return{type:"GET_TEMP_TYPE",temperatureType:e}}(e)},getWeatherData:function(){return{type:"GET_WEATHER_DATA"}}},M=Object(s.b)((function(e){return{weatherData:e.weatherData,curPageData:e.curPageData,temperatureType:e.temperatureType,curPageIndex:e.curPageIndex,loading:e.loading,hasError:e.hasError,error:e.error,activeChartData:e.activeChartData,pageSize:e.pageSize}}),B)(S),R=a(61),W=a(17),G=a(59),H=a(27),z=a(18);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(z.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{weatherData:[],curPageData:[],temperatureType:"fahrenheit",curPageIndex:0,loading:!1,hasError:!1,error:{},activeChartData:{},pageSize:3},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER_DATA":return V({},e,{loading:!0});case"WEATHER_DATA_RECEIVED":return V({},e,{weatherData:Object(H.a)(t.data),loading:!1});case"WEATHER_DATA_FAILED":return V({},e,{hasError:!0,error:t.error,loading:!1});case"GET_PAGE_DATA":var a=t.pageIndex*e.pageSize;return V({},e,{curPageIndex:t.pageIndex,curPageData:Object(H.a)(e.weatherData.slice(a,a+e.pageSize)),activeChartData:{}});case"GET_TEMP_TYPE":return V({},e,{temperatureType:t.temperatureType});case"GET_ACTIVE_CHART_DATA":return V({},e,{activeChartData:t.chartData});default:return e}},Y=a(19),q=a.n(Y),U=a(23),$=a(60),K=a.n($),Q=q.a.mark(ee),X=q.a.mark(ae),Z=q.a.mark(re);function ee(){var e;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(U.a)(K.a.get,"http://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40");case 3:if("200"!==(e=t.sent).data.cod){t.next=9;break}return t.next=7,Object(U.b)({type:"WEATHER_DATA_RECEIVED",data:te(e.data)});case 7:t.next=11;break;case 9:return t.next=11,Object(U.b)({type:"WEATHER_DATA_FAILED",error:e});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(U.b)({type:"WEATHER_DATA_FAILED",error:t.t0});case 17:case"end":return t.stop()}}),Q,null,[[0,13]])}function te(e){for(var t=[],a=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],r=function(a){var r,n,c,i=e.list[a].dt_txt.split(" ")[0];if(n=1.8*(e.list[a].main.temp-273.15)+32,c=e.list[a].main.temp-273.15,(r=t.findIndex((function(e){return i===e.date})))>-1){if(t[r].humidity.push(e.list[a].main.humidity),t[r].fragmentsF.push(n),t[r].fragmentsC.push(c),e.list[a].weather.length>0){var s=t[r].weatherArr.findIndex((function(t){return e.list[a].weather[0].description===t.weather}));s>-1?t[r].weatherArr[s].count+=1:t[r].weatherArr.push({weather:e.list[a].weather[0].description,count:1})}}else{var o={date:i,humidity:[e.list[a].main.humidity],weatherArr:[],fragmentsF:[n],fragmentsC:[c]};e.list[a].weather.length>0&&(o.weatherArr=[{weather:e.list[a].weather[0].description,count:1}]),t.push(o)}},n=0;n<e.list.length;n++)r(n);for(var c=0;c<t.length;c++){t[c].tempF=Math.ceil(t[c].fragmentsF.reduce((function(e,t){return e+t}),0)/t[c].fragmentsF.length)+"F",t[c].tempC=Math.ceil(t[c].fragmentsC.reduce((function(e,t){return e+t}),0)/t[c].fragmentsC.length)+"C",t[c].humidity=Math.ceil(t[c].humidity.reduce((function(e,t){return e+t}),0)/t[c].humidity.length),t[c].weatherArr.length>0&&(t[c].weather=t[c].weatherArr.sort((function(e,t){return t.count-e.count}))[0].weather),t[c].displayDate=t[c].date.split("-")[2]+" "+a[Number(t[c].date.split("-")[1]-1)]+" "+t[c].date.split("-")[0].slice(2,4),t[c].chartDataC=[],t[c].chartDataF=[],t[c].chartDataC.push(["C","Temp"]),t[c].chartDataF.push(["F","Temp"]);for(var i=0;i<t[c].fragmentsF.length;i++)t[c].chartDataF.push([Math.ceil(t[c].fragmentsF[i])+"F",Math.ceil(t[c].fragmentsF[i])]),t[c].chartDataC.push([Math.ceil(t[c].fragmentsC[i])+"C",Math.ceil(t[c].fragmentsC[i])])}return t}function ae(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.c)("GET_WEATHER_DATA",ee);case 2:case"end":return e.stop()}}),X)}function re(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:case"end":return e.stop()}}),Z)}a(99);var ne=a(133),ce=Object(R.a)(),ie=Object(W.d)(J,Object(W.a)(ce,G.logger));ce.run(re);var se=function(){return n.a.createElement(s.a,{store:ie},n.a.createElement("div",{className:"App"},n.a.createElement(ne.a,null),n.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},70:function(e,t,a){e.exports=a(100)},75:function(e,t,a){},99:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.1cfb9fa3.chunk.js.map